<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoulMirror | Palm Reading</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cinzel:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            color: #111111;
            min-height: 100vh;
            width: 100%;
            overflow: hidden;
        }
        
        /* App container */
        .app-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }
        
        /* Cards container */
        .cards-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            touch-action: pan-y;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Individual card */
        .reading-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            opacity: 0;
            transform: translateX(100%);
            pointer-events: none;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                        opacity 0.4s ease;
        }
        
        .reading-card.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: auto;
        }
        
        .reading-card.previous {
            opacity: 0;
            transform: translateX(-100%);
        }
        
        .reading-card.next {
            opacity: 0;
            transform: translateX(100%);
        }
        
        /* Card content - Responsive sizing */
        .card-content {
            width: 100%;
            max-width: 850px; /* Wider for desktop */
            height: 90vh; /* Take most of viewport height */
            background: white;
            border-radius: 28px;
            padding: 35px 40px; /* Good padding for wider cards */
            box-shadow: 
                0 25px 60px rgba(124, 58, 237, 0.15),
                0 10px 40px rgba(0, 0, 0, 0.08),
                inset 0 0 0 1px rgba(255, 255, 255, 0.9);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .card-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #7c3aed, #8b5cf6);
        }
        
        /* Desktop - closer to top */
        @media (min-width: 768px) {
            .app-container {
                padding-top: 20px; /* Much closer to top on desktop */
            }
            
            .card-content {
                height: 88vh; /* Slightly taller on desktop */
                max-height: 90vh;
            }
        }
        
        /* Mobile - very close to top */
        @media (max-width: 768px) {
            .app-container {
                padding: 10px; /* Minimal padding */
                padding-top: 23px; /* 5px gap below progress bar */
                align-items: flex-start; /* Start from top */
            }
            
            .reading-card {
                padding: 8px; /* Minimal padding around card */
            }
            
            .card-content {
                max-width: 100%; /* Full width */
                height: 95vh; /* Almost full height on mobile */
                padding: 25px 22px; /* Tighter margins */
                border-radius: 24px;
                margin-top: 0;
            }
        }
        
        /* Extra small mobile */
        @media (max-width: 480px) {
            .app-container {
                padding: 8px;
                padding-top: 23px;
            }
            
            .card-content {
                padding: 22px 18px; /* Even tighter */
                height: 96vh; /* Use even more height */
            }
        }
        
        /* Card icon - Fixed positioning */
        .card-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px; /* Reduced bottom margin */
            color: white;
            font-size: 34px;
            box-shadow: 0 15px 35px rgba(124, 58, 237, 0.25);
            flex-shrink: 0; /* Prevent shrinking */
        }
        
        /* Card title - Smaller font */
        .card-title {
            font-family: 'Cinzel', serif;
            font-size: 28px; /* Smaller */
            font-weight: 700;
            text-align: center;
            color: #111111;
            margin-bottom: 12px; /* Reduced */
            line-height: 1.2;
            padding: 0 5px;
        }
        
        /* Card subtitle */
        .card-subtitle {
            font-size: 15px; /* Smaller */
            font-weight: 500;
            color: #666;
            text-align: center;
            margin-bottom: 25px;
            letter-spacing: 0.2px;
            padding: 0 5px;
        }
        
        /* Card text - Smaller font and closer to margins */
        .card-text {
            font-size: 16px; /* Smaller */
            line-height: 1.6; /* Tighter */
            color: #333;
            text-align: center;
            margin-bottom: 20px;
            padding: 0 5px;
        }
        
        /* Extra text class for additional content */
        .extra-text {
            font-size: 16px;
            line-height: 1.6;
            color: #444;
            text-align: center;
            margin-bottom: 20px;
            padding: 0 5px;
        }
        
        /* Navigation buttons - positioned at bottom */
        .nav-buttons {
            display: flex;
            gap: 20px;
            margin-top: auto; /* Push to bottom */
            padding-top: 20px;
            width: 100%;
            justify-content: center;
            padding: 20px 5px 0;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            flex-shrink: 0; /* Don't shrink */
        }
        
        .nav-btn {
            padding: 14px 28px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 15px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 130px;
        }
        
        .nav-btn.prev {
            background: white;
            color: #7c3aed;
            border: 2px solid rgba(124, 58, 237, 0.2);
        }
        
        .nav-btn.next {
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            color: white;
            box-shadow: 0 8px 20px rgba(124, 58, 237, 0.2);
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 25px rgba(124, 58, 237, 0.15);
        }
        
        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Special elements */
        .trait-visual {
            width: 100%;
            margin: 20px 0;
            padding: 0 5px;
        }
        
        .trait-row {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .trait-name {
            font-weight: 600;
            color: #111;
            width: 100px;
            flex-shrink: 0;
            font-size: 15px;
        }
        
        .trait-bar {
            flex: 1;
            height: 7px;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .trait-fill {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed, #8b5cf6);
            border-radius: 10px;
            width: 0;
            transition: width 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        /* Quote styling */
        .insight-quote {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.03), rgba(139, 92, 246, 0.03));
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border-left: 3px solid #7c3aed;
        }
        
        .quote-text {
            font-size: 16px; /* Smaller */
            font-style: italic;
            line-height: 1.5; /* Tighter */
            color: #444;
            margin-bottom: 8px;
        }
        
        .quote-author {
            font-weight: 600;
            color: #7c3aed;
            text-align: right;
            font-size: 14px; /* Smaller */
        }
        
        /* Action buttons (on last slide) */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            padding: 0 5px;
        }
        
        .action-btn {
            padding: 14px 24px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 15px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .action-btn.primary {
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            color: white;
            box-shadow: 0 8px 20px rgba(124, 58, 237, 0.2);
        }
        
        .action-btn.secondary {
            background: white;
            color: #7c3aed;
            border: 2px solid rgba(124, 58, 237, 0.2);
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 25px rgba(124, 58, 237, 0.15);
        }

        /* Navigation hint (card 1) */
        .nav-hint {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: #777;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 0.3px;
            padding: 8px 0 6px;
        }

        .nav-icons {
            display: flex;
            gap: 12px;
            font-size: 16px;
        }

        .nav-icons i {
            animation: pulse 2s infinite;
        }

        .nav-icons i:nth-child(1) {
            animation-delay: 0s;
        }

        .nav-icons i:nth-child(2) {
            animation-delay: 0.5s;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: translateX(0); }
            50% { opacity: 1; transform: translateX(4px); }
        }
        
        /* Animation for card entrance - FIXED */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-in {
            animation: fadeInUp 0.7s ease forwards !important;
        }
        
        /* Swipe animation */
        .reading-card.swipe-left {
            animation: swipeLeft 0.4s forwards;
        }
        
        .reading-card.swipe-right {
            animation: swipeRight 0.4s forwards;
        }
        
        @keyframes swipeLeft {
            0% { transform: translateX(0); opacity: 1; }
            100% { transform: translateX(-100%); opacity: 0; }
        }
        
        @keyframes swipeRight {
            0% { transform: translateX(0); opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }
        
        /* New card entrance */
        @keyframes cardEnterFromRight {
            0% { transform: translateX(100%); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes cardEnterFromLeft {
            0% { transform: translateX(-100%); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        
        .enter-from-right {
            animation: cardEnterFromRight 0.5s forwards;
        }
        
        .enter-from-left {
            animation: cardEnterFromLeft 0.5s forwards;
        }
        
        /* Mobile adjustments */
        @media (max-width: 768px) {
            .card-title {
                font-size: 24px; /* Smaller on mobile */
                margin-bottom: 10px;
            }
            
            .card-subtitle {
                font-size: 14px;
                margin-bottom: 20px;
            }
            
            .card-text, .extra-text {
                font-size: 15px; /* Smaller on mobile */
                line-height: 1.55;
                margin-bottom: 18px;
            }
            
            .card-icon {
                width: 70px;
                height: 70px;
                font-size: 30px;
                margin-bottom: 15px;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 10px;
                padding-top: 15px;
            }
            
            .nav-btn {
                width: 100%;
                min-width: auto;
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .trait-visual {
                margin: 18px 0;
            }
            
            .trait-row {
                margin-bottom: 10px;
            }
            
            .trait-name {
                width: 85px;
                font-size: 14px;
            }
            
            .trait-bar {
                height: 6px;
            }
            
            .insight-quote {
                padding: 18px;
                margin: 18px 0;
                border-radius: 14px;
            }
            
            .quote-text {
                font-size: 15px;
                line-height: 1.5;
            }
            
            .action-buttons {
                flex-direction: column;
                gap: 10px;
                margin-top: 15px;
            }
            
            .action-btn {
                padding: 12px 20px;
                font-size: 14px;
            }
        }
        
        @media (max-width: 480px) {
            .card-title {
                font-size: 22px;
            }
            
            .card-text, .extra-text {
                font-size: 14px;
                line-height: 1.5;
            }
            
            .card-icon {
                width: 65px;
                height: 65px;
                font-size: 28px;
                margin-bottom: 12px;
            }
            
            .nav-btn {
                padding: 11px 18px;
            }
            
            .trait-name {
                width: 80px;
                font-size: 13px;
            }
        }
        
        /* Progress indicator - minimalist */
        .progress-indicator {
            position: fixed;
            top: 15px;
            left: 20px;
            right: 20px;
            height: 3px;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
            overflow: hidden;
            z-index: 100;
        }
        
        .progress-fill {
            height: 100%;
            width: 14.28%; /* 1/7 */
            background: linear-gradient(90deg, #7c3aed, #8b5cf6);
            border-radius: 10px;
            transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        /* Content wrapper for better scrolling */
        .content-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            padding-bottom: 10px;
            position: relative;
        }

        .content-wrapper.fade-bottom {
            -webkit-mask-image: linear-gradient(to bottom, #000 0%, #000 70%, transparent 100%);
            mask-image: linear-gradient(to bottom, #000 0%, #000 70%, transparent 100%);
        }

        /* Swipe instruction overlay */
        .swipe-instruction {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            text-align: center;
            z-index: 200;
            opacity: 1;
            transition: opacity 0.5s ease;
        }

        .swipe-instruction.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .swipe-icon {
            font-size: 60px;
            margin-bottom: 30px;
            color: #7c3aed;
            animation: swipeInstruction 2s infinite ease-in-out;
        }

        @keyframes swipeInstruction {
            0%, 100% { transform: translateX(0); }
            33% { transform: translateX(-20px); }
            66% { transform: translateX(20px); }
        }

        .swipe-text {
            font-size: 20px;
            font-weight: 600;
            color: #111;
            margin-bottom: 15px;
        }

        .swipe-detail {
            font-size: 16px;
            color: #666;
            margin-bottom: 30px;
            max-width: 320px;
        }

        .start-btn {
            padding: 16px 40px;
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(124, 58, 237, 0.3);
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(124, 58, 237, 0.4);
        }
    </style>
</head>
<body>
    <!-- Progress indicator -->
    <div class="progress-indicator">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <!-- Swipe instruction overlay -->
    <div class="swipe-instruction" id="swipeInstruction">
        <div class="swipe-icon">
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-hand-point-up"></i>
            <i class="fas fa-arrow-right"></i>
        </div>
        <h2 class="swipe-text">Swipe to Navigate</h2>
        <p class="swipe-detail">Swipe left or right to move between reading cards. The card will follow your finger.</p>
        <button class="start-btn" id="startBtn">Begin Reading</button>
    </div>
    
    <!-- Main app container -->
    <div class="app-container" id="appContainer">
        <!-- Cards container -->
        <div class="cards-container" id="cardsContainer">
            <!-- Card 1: Introduction -->
            <div class="reading-card active" id="card1">
                <div class="card-content">
                    <div class="content-wrapper">
                        <div class="card-icon">
                            <i class="fas fa-hand-paper"></i>
                        </div>
                        <h1 class="card-title">Your SoulMirror Reading</h1>
                        <p class="card-subtitle">A journey through your palm's story</p>
                        <p class="card-text">
                            Welcome to your personalized palm reading. Your hand is a unique map revealing insights about your life's journey.
                            <br><br>
                            Swipe right to begin exploring what your palm reveals.
                        </p>
                    </div>

                    <div class="nav-hint" aria-hidden="true">
                        <div class="nav-icons">
                            <i class="fas fa-arrow-left"></i>
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <span>Swipe to navigate</span>
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="nav-buttons">
                        <button class="nav-btn next" id="nextBtn1">
                            <i class="fas fa-arrow-right"></i> Begin Reading
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Card 2: Life Path -->
            <div class="reading-card" id="card2">
                <div class="card-content">
                    <div class="content-wrapper">
                        <div class="card-icon">
                            <i class="fas fa-road"></i>
                        </div>
                        <h1 class="card-title">Your Life Path</h1>
                        <p class="card-subtitle">Resilience through experience</p>
                        <p class="card-text">
                            The primary lines in your palm suggest a life path characterized by <strong>resilience and growth through contrast</strong>. Your life line shows depth and continuity, indicating a strong life force and ability to recover from challenges. The path isn't necessarily easy, but it's rich with learning opportunities.
                        </p>
                        <p class="extra-text">
                            When examining your life line, I notice it has several branches extending upward. These typically represent periods of expansion, new opportunities, or significant personal growth. The line itself maintains a consistent depth, suggesting you have a reliable source of inner strength to draw upon during difficult times.
                        </p>
                        <p class="extra-text">
                            There's an interesting pattern in how your major lines intersect. This often indicates that your most significant lessons come through relationships with others - both personal and professional. You learn about yourself through your interactions, and these connections serve as mirrors showing you aspects of yourself you might otherwise overlook.
                        </p>
                        <p class="extra-text">
                            The flow of your life line suggests you tend to learn the most when life challenges your comfort zone. Periods of stability are important for integration, but your growth spurts seem to coincide with times of change or uncertainty. This doesn't mean you seek out chaos, but rather that you have a capacity to transform challenging circumstances into valuable experience.
                        </p>
                        <p class="extra-text">
                            Looking at the overall pattern, I see evidence of several major transitions or "life chapters" already behind you. Each has contributed to building the resilience you carry today. The lines suggest you're currently in a period of integration, where lessons from past experiences are being synthesized into wisdom.
                        </p>
                        <div class="insight-quote">
                            <p class="quote-text">"The lines of your palm show a journey of becoming, not just being. Each challenge has carved depth into your character, each joy has added lightness to your spirit, and each choice has written another sentence in the story only you can tell."</p>
                            <div class="quote-author">— SoulMirror Reading</div>
                        </div>
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="nav-buttons">
                        <button class="nav-btn prev" id="prevBtn2">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="nav-btn next" id="nextBtn2">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Card 3: Personality -->
            <div class="reading-card" id="card3">
                <div class="card-content">
                    <div class="content-wrapper">
                        <div class="card-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h1 class="card-title">Personality & Intuition</h1>
                        <p class="card-subtitle">How you think and decide</p>
                        <p class="card-text">
                            Your hand shape reveals a fascinating blend of <strong>intuition paired with practical thinking</strong>. You have what palmists might call a "mixed type" hand, combining elements that suggest both creative vision and grounded execution. This makes you someone who can dream big but also build step by step toward those dreams.
                        </p>
                        
                        <div class="trait-visual">
                            <div class="trait-row">
                                <div class="trait-name">Intuition</div>
                                <div class="trait-bar">
                                    <div class="trait-fill" data-width="85"></div>
                                </div>
                            </div>
                            <div class="trait-row">
                                <div class="trait-name">Creativity</div>
                                <div class="trait-bar">
                                    <div class="trait-fill" data-width="78"></div>
                                </div>
                            </div>
                            <div class="trait-row">
                                <div class="trait-name">Resilience</div>
                                <div class="trait-bar">
                                    <div class="trait-fill" data-width="92"></div>
                                </div>
                            </div>
                            <div class="trait-row">
                                <div class="trait-name">Practicality</div>
                                <div class="trait-bar">
                                    <div class="trait-fill" data-width="76"></div>
                                </div>
                            </div>
                        </div>
                        
                        <p class="extra-text">
                            Your head line shows a clear, deep channel suggesting focused thinking ability. It has a slight upward curve toward the mount of Luna (the base of the palm near the wrist), which often indicates strong imagination and intuitive capabilities. You sense undercurrents quickly but are careful about what you act upon.
                        </p>
                        <p class="extra-text">
                            The length and clarity of your head line suggest you have good concentration and can sustain attention on complex problems. However, there are several fine branches connecting to other areas of the palm, indicating your thinking process integrates information from multiple sources - emotional, intuitive, and practical.
                        </p>
                        <p class="extra-text">
                            Your finger shapes provide additional insight. Your fingertips show a balance between rounded and squared shapes, suggesting you blend idealism with realism. You likely have moments of inspired insight followed by periods of careful analysis to determine how to implement those insights effectively.
                        </p>
                        <p class="extra-text">
                            The mounts (the fleshy pads at the base of your fingers) are well-developed, particularly under Jupiter and Saturn. This suggests you have a strong sense of purpose (Jupiter) coupled with seriousness and responsibility (Saturn). You take your commitments seriously but also understand the importance of vision and growth.
                        </p>
                        <p class="extra-text">
                            When making decisions, you probably experience an internal dialogue between your gut feelings and logical analysis. This isn't indecisiveness but rather a comprehensive evaluation process. You trust your intuition but verify with facts. This balanced approach serves you well in complex situations where pure logic or pure intuition alone might be insufficient.
                        </p>
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="nav-buttons">
                        <button class="nav-btn prev" id="prevBtn3">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="nav-btn next" id="nextBtn3">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Card 4: Love & Relationships -->
            <div class="reading-card" id="card4">
                <div class="card-content">
                    <div class="content-wrapper">
                        <div class="card-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h1 class="card-title">Love & Relationships</h1>
                        <p class="card-subtitle">Patterns of connection</p>
                        <p class="card-text">
                            Your heart line reveals <strong>emotional depth paired with discernment</strong>. It begins under your index finger with a clear, deep channel that gradually becomes more delicate as it crosses your palm. This pattern often suggests you may love intensely, but only when trust feels earned and safe.
                        </p>
                        <p class="extra-text">
                            The heart line's starting position indicates high standards in relationships. You likely seek partners who share your values and aspirations rather than settling for superficial connections. The line maintains its depth through most of its journey, suggesting consistency in your emotional commitments once they're established.
                        </p>
                        <p class="extra-text">
                            There are several fine branches extending upward from your heart line. These often represent significant relationships or emotional connections that have influenced your development. Some branches connect to your head line, suggesting relationships that have stimulated your intellect as well as your heart.
                        </p>
                        <p class="extra-text">
                            Your relationship patterns show a beautiful tension between your capacity for deep connection and your need for emotional security. You're capable of profound intimacy but approach new connections with appropriate caution. This isn't fear but wisdom - you understand that true intimacy requires time, trust, and mutual vulnerability.
                        </p>
                        <p class="extra-text">
                            The mounts of Venus (the fleshy part at the base of your thumb) are well-developed, indicating strong life force and capacity for affection. However, the texture of the skin here suggests you express affection selectively rather than indiscriminately. Your love is a valuable resource you share with those who have earned your trust.
                        </p>
                        <p class="extra-text">
                            Looking at relationship timing through traditional palmistry markers, there appear to be significant relationship periods in your late teens/early twenties and again in your late twenties/early thirties. These aren't necessarily specific people but rather periods of important relationship learning that have shaped your current approach to connection.
                        </p>
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="nav-buttons">
                        <button class="nav-btn prev" id="prevBtn4">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="nav-btn next" id="nextBtn4">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Card 5: Career & Success -->
            <div class="reading-card" id="card5">
                <div class="card-content">
                    <div class="content-wrapper">
                        <div class="card-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <h1 class="card-title">Career & Success</h1>
                        <p class="card-subtitle">Your path to fulfillment</p>
                        <p class="card-text">
                            Your palm suggests that success grows best through <strong>alignment rather than pressure</strong>. Your fate line (also called the line of destiny or Saturn line) shows an interesting pattern - it begins clearly but has several points where it seems to fade or branch before continuing.
                        </p>
                        <p class="extra-text">
                            This pattern often indicates that your most meaningful career progress happens when you're working in alignment with your authentic self. The periods where the line fades may represent times when you were following external expectations rather than internal guidance. When the line strengthens again, it typically corresponds with finding work that resonates with who you truly are.
                        </p>
                        <p class="extra-text">
                            Your fate line connects with both your head line and heart line at different points. This suggests your ideal work engages both your intellect and your passions. You do your strongest work when it reflects who you are — not who you're expected to be. The work that satisfies you likely has meaning beyond mere financial reward.
                        </p>
                        <p class="extra-text">
                            The development of the mount of Mercury (under your pinky finger) suggests good communication skills, whether written, verbal, or both. This ability likely plays a significant role in your professional life. The mount of Apollo (under your ring finger) shows creativity and appreciation for aesthetics, which may manifest in your work or how you approach it.
                        </p>
                        <p class="extra-text">
                            Looking at timing along your fate line using traditional palmistry measurements, there appear to be significant career developments in your mid-to-late twenties and again in your mid-thirties. These aren't necessarily job changes but rather shifts in how you relate to your work or understanding of what constitutes meaningful success.
                        </p>
                        <div class="insight-quote">
                            <p class="quote-text">"Your success is measured by the alignment between your work and your authentic self, not by external validation. The world may applaud certain achievements, but true fulfillment comes when your daily activities resonate with your deepest values and natural talents."</p>
                            <div class="quote-author">— SoulMirror Reading</div>
                        </div>
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="nav-buttons">
                        <button class="nav-btn prev" id="prevBtn5">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="nav-btn next" id="nextBtn5">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Card 6: Challenges -->
            <div class="reading-card" id="card6">
                <div class="card-content">
                    <div class="content-wrapper">
                        <div class="card-icon">
                            <i class="fas fa-mountain"></i>
                        </div>
                        <h1 class="card-title">Challenges & Growth</h1>
                        <p class="card-subtitle">Where you're being stretched</p>
                        <p class="card-text">
                            Your palm reveals tensions between <strong>comfort and growth</strong>. Several lines show patterns of crossing or intersecting that traditional palmistry often associates with important choices or developmental challenges. These aren't obstacles but doorways that only open when you're ready.
                        </p>
                        <p class="extra-text">
                            There's a particularly interesting configuration where your fate line and life line briefly run parallel before separating. This often represents periods where external circumstances and internal development are aligned, creating powerful opportunities for growth. The challenge during such times is recognizing the opportunity and having the courage to act.
                        </p>
                        <p class="extra-text">
                            Several "islands" appear in your major lines at various points. In palmistry, islands typically represent periods of difficulty, confusion, or divided energy. However, they're followed by clear, strong lines, suggesting you've navigated these challenges successfully and emerged with greater clarity and strength.
                        </p>
                        <p class="extra-text">
                            What feels like resistance is often redirection toward something better aligned with your true path. The challenges shown in your palm seem to serve a purpose - they redirect your energy, clarify your priorities, or deepen your self-understanding. Each apparent obstacle has ultimately contributed to your development.
                        </p>
                        <p class="extra-text">
                            Your palm shows evidence of what might be called "wisdom lines" - fine lines that have developed over time, connecting different areas of learning and experience. These suggest you have a growing capacity to integrate lessons from various life domains, seeing connections and patterns that might elude others.
                        </p>
                        <p class="extra-text">
                            The current phase of your development, as suggested by the most recent sections of your lines, seems focused on integration. After periods of expansion and challenge, you're now in a phase where you're synthesizing these experiences into a more coherent understanding of yourself and your path forward.
                        </p>
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="nav-buttons">
                        <button class="nav-btn prev" id="prevBtn6">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="nav-btn next" id="nextBtn6">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Card 7: Conclusion -->
            <div class="reading-card" id="card7">
                <div class="card-content">
                    <div class="content-wrapper">
                        <div class="card-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h1 class="card-title">Reading Complete</h1>
                        <p class="card-subtitle">Your journey in full</p>
                        <p class="card-text">
                            You've now explored the key insights revealed by your palm. Remember, these readings offer <strong>reflections, not fixed destinies</strong>. Your hand shows patterns and potentials, but your choices shape how these unfold in your life.
                        </p>
                        <p class="extra-text">
                            Palmistry at its best is a mirror, not a crystal ball. It reflects back to you what your experiences, choices, and nature have written in the unique topography of your hands. The lines may suggest tendencies or patterns, but they don't dictate outcomes. You remain the author of your story.
                        </p>
                        <p class="extra-text">
                            As you reflect on this reading, consider which insights resonate most strongly. Sometimes a palm reading confirms what you already sensed intuitively. Other times, it reveals patterns you hadn't consciously recognized. Both experiences can be valuable - validation of your self-knowledge or discovery of new self-awareness.
                        </p>
                        <p class="extra-text">
                            Your hand will continue to change slightly over time. Lines may deepen, new fine lines may appear, and the overall character of your palm may evolve. This isn't random - it reflects how you're living, growing, and choosing. The hand you hold today tells the story of who you've been; the hand you'll hold tomorrow is being written by who you're becoming.
                        </p>
                        <p class="extra-text">
                            Thank you for exploring this SoulMirror reading. May the insights you've gained serve as useful reference points on your journey. Whether you view palmistry as metaphor, psychology, tradition, or simply interesting entertainment, may it contribute to your ongoing process of self-discovery and growth.
                        </p>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn secondary" id="restartBtn">
                            <i class="fas fa-redo"></i> Restart Reading
                        </button>
                        <button class="action-btn primary" id="shareBtn">
                            <i class="fas fa-share-alt"></i> Share Insights
                        </button>
                    </div>
                    
                    <!-- Navigation buttons -->
                    <div class="nav-buttons">
                        <button class="nav-btn prev" id="prevBtn7">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const appContainer = document.getElementById('appContainer');
        const cardsContainer = document.getElementById('cardsContainer');
        const cards = document.querySelectorAll('.reading-card');
        const progressFill = document.getElementById('progressFill');
        const restartBtn = document.getElementById('restartBtn');
        const shareBtn = document.getElementById('shareBtn');
        const swipeInstruction = document.getElementById('swipeInstruction');
        const startBtn = document.getElementById('startBtn');
        
        // State
        let currentCardIndex = 0;
        let totalCards = cards.length;
        let isDragging = false;
        let dragStartX = 0;
        let dragStartTime = 0;
        let dragDistance = 0;
        let canVibrate = 'vibrate' in navigator;
        let suppressNavigation = false;
        
        // Initialize the app
        function initApp() {
            // Setup event listeners
            setupEventListeners();

            if (swipeInstruction) {
                swipeInstruction.classList.remove('hidden');
            }

            // Update UI - with animation fix
            setTimeout(() => {
                currentCardIndex = 0;
                updateUI();
                // Force the animation on first card
                const firstCard = document.getElementById('card1');
                if (firstCard) {
                    firstCard.classList.add('animate-in');
                }
            }, 100);
            
            // Setup navigation buttons
            setupNavigationButtons();
        }
        
        // Setup navigation buttons for each card
        function setupNavigationButtons() {
            // Card 1 button
            document.getElementById('nextBtn1')?.addEventListener('click', () => nextCard());
            
            // Card 2 buttons
            document.getElementById('prevBtn2')?.addEventListener('click', () => prevCard());
            document.getElementById('nextBtn2')?.addEventListener('click', () => nextCard());
            
            // Card 3 buttons
            document.getElementById('prevBtn3')?.addEventListener('click', () => prevCard());
            document.getElementById('nextBtn3')?.addEventListener('click', () => nextCard());
            
            // Card 4 buttons
            document.getElementById('prevBtn4')?.addEventListener('click', () => prevCard());
            document.getElementById('nextBtn4')?.addEventListener('click', () => nextCard());
            
            // Card 5 buttons
            document.getElementById('prevBtn5')?.addEventListener('click', () => prevCard());
            document.getElementById('nextBtn5')?.addEventListener('click', () => nextCard());
            
            // Card 6 buttons
            document.getElementById('prevBtn6')?.addEventListener('click', () => prevCard());
            document.getElementById('nextBtn6')?.addEventListener('click', () => nextCard());
            
            // Card 7 buttons
            document.getElementById('prevBtn7')?.addEventListener('click', () => prevCard());
        }
        
        // Update UI based on current card
        function updateUI() {
            // Update progress bar
            const progressPercentage = ((currentCardIndex + 1) / totalCards) * 100;
            progressFill.style.width = `${progressPercentage}%`;
            
            // Update cards visibility with proper transitions
            cards.forEach((card, index) => {
                card.classList.remove('active', 'previous', 'next', 'enter-from-right', 'enter-from-left', 'animate-in');
                
                if (index === currentCardIndex) {
                    card.classList.add('active');
                    // Add animation with a slight delay to ensure it triggers
                    setTimeout(() => {
                        card.classList.add('animate-in');
                    }, 10);
                } else if (index < currentCardIndex) {
                    card.classList.add('previous');
                } else {
                    card.classList.add('next');
                }
            });
            
            // Animate trait bars if on card 3
            if (currentCardIndex === 2) {
                setTimeout(animateTraitBars, 400);
            }

            const activeCard = cards[currentCardIndex];
            if (activeCard) {
                const wrapper = activeCard.querySelector('.content-wrapper');
                updateFadeForWrapper(wrapper);
            }
            
            // Enable/disable navigation buttons
            updateNavigationButtons();
        }
        
        // Update navigation button states
        function updateNavigationButtons() {
            // Card 1 - Only next button
            const nextBtn1 = document.getElementById('nextBtn1');
            if (nextBtn1) {
                nextBtn1.disabled = false;
            }
            
            // Card 2-6 - Both buttons
            for (let i = 2; i <= 6; i++) {
                const prevBtn = document.getElementById(`prevBtn${i}`);
                const nextBtn = document.getElementById(`nextBtn${i}`);
                
                if (prevBtn) prevBtn.disabled = false;
                if (nextBtn) nextBtn.disabled = false;
            }
            
            // Card 7 - Only prev button
            const prevBtn7 = document.getElementById('prevBtn7');
            if (prevBtn7) {
                prevBtn7.disabled = false;
            }
        }
        
        // Animate the trait bars
        function animateTraitBars() {
            const traitFills = document.querySelectorAll('.trait-fill');
            traitFills.forEach(fill => {
                const width = fill.dataset.width;
                fill.style.width = `${width}%`;
            });
        }

        function updateFadeForWrapper(wrapper) {
            if (!wrapper) return;

            const hasOverflow = wrapper.scrollHeight > wrapper.clientHeight + 1;
            const atBottom = wrapper.scrollTop + wrapper.clientHeight >= wrapper.scrollHeight - 1;

            if (hasOverflow && !atBottom) {
                wrapper.classList.add('fade-bottom');
            } else {
                wrapper.classList.remove('fade-bottom');
            }
        }

        function dismissSwipeInstruction() {
            if (!swipeInstruction || swipeInstruction.classList.contains('hidden')) return;

            swipeInstruction.classList.add('hidden');
            suppressNavigation = true;

            const firstCard = document.getElementById('card1');
            if (firstCard) {
                firstCard.style.zIndex = '2';
            }

            currentCardIndex = 0;
            updateUI();

            setTimeout(() => {
                suppressNavigation = false;
            }, 350);
        }
        
        // Go to specific card
        function goToCard(index, direction = 'auto') {
            if (index < 0 || index >= totalCards) return;
            
            const oldIndex = currentCardIndex;
            currentCardIndex = index;
            
            // Add exit animation to old card
            if (oldIndex !== currentCardIndex) {
                const oldCard = cards[oldIndex];
                if (index > oldIndex) {
                    oldCard.classList.add('swipe-left');
                } else {
                    oldCard.classList.add('swipe-right');
                }
                
                // Add entrance animation to new card
                const newCard = cards[currentCardIndex];
                if (index > oldIndex) {
                    newCard.classList.add('enter-from-right');
                } else {
                    newCard.classList.add('enter-from-left');
                }
                
                // Vibrate if available
                if (canVibrate) {
                    navigator.vibrate(20);
                }
                
                // Remove animations after they complete
                setTimeout(() => {
                    oldCard.classList.remove('swipe-left', 'swipe-right');
                    newCard.classList.remove('enter-from-right', 'enter-from-left');
                }, 500);
            }
            
            updateUI();
        }
        
        // Next card
        function nextCard() {
            if (currentCardIndex < totalCards - 1) {
                goToCard(currentCardIndex + 1, 'right');
            } else {
                // Vibrate to indicate end
                if (canVibrate) {
                    navigator.vibrate([30, 80, 30]);
                }
            }
        }
        
        // Previous card
        function prevCard() {
            if (currentCardIndex > 0) {
                goToCard(currentCardIndex - 1, 'left');
            } else {
                // Vibrate to indicate beginning
                if (canVibrate) {
                    navigator.vibrate([30, 80, 30]);
                }
            }
        }
        
        // Handle drag/swipe
        function handleDragStart(e) {
            isDragging = true;
            dragStartTime = Date.now();
            
            // Get starting position
            if (e.type.includes('touch')) {
                dragStartX = e.touches[0].clientX;
            } else {
                dragStartX = e.clientX;
            }
            
            dragDistance = 0;
        }
        
        function handleDragMove(e) {
            if (!isDragging) return;
            
            let clientX;
            
            if (e.type.includes('touch')) {
                clientX = e.touches[0].clientX;
                e.preventDefault(); // Prevent scrolling
            } else {
                clientX = e.clientX;
            }
            
            // Calculate drag distance
            dragDistance = clientX - dragStartX;
        }
        
        function handleDragEnd(e) {
            if (!isDragging) return;
            
            isDragging = false;
            
            let clientX;
            
            if (e.type.includes('touch')) {
                clientX = e.changedTouches[0].clientX;
            } else {
                clientX = e.clientX;
            }
            
            // Calculate final drag distance
            const finalDragDistance = clientX - dragStartX;
            const dragDuration = Date.now() - dragStartTime;
            
            // Determine if it's a valid swipe
            const isFastSwipe = dragDuration < 300 && Math.abs(finalDragDistance) > 25;
            const isLongSwipe = Math.abs(finalDragDistance) > 80;
            
            if (isFastSwipe || isLongSwipe) {
                if (finalDragDistance > 0 && currentCardIndex > 0) {
                    // Swipe right - go to previous card
                    prevCard();
                } else if (finalDragDistance < 0 && currentCardIndex < totalCards - 1) {
                    // Swipe left - go to next card
                    nextCard();
                }
            }
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Swipe instruction dismissal
            if (startBtn) {
                startBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    dismissSwipeInstruction();
                });
            }

            if (swipeInstruction) {
                swipeInstruction.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (e.target === swipeInstruction) {
                        dismissSwipeInstruction();
                    }
                });
            }

            // Touch events for mobile
            cardsContainer.addEventListener('touchstart', handleDragStart);
            cardsContainer.addEventListener('touchmove', handleDragMove, { passive: false });
            cardsContainer.addEventListener('touchend', handleDragEnd);
            
            // Mouse events for desktop
            cardsContainer.addEventListener('mousedown', handleDragStart);
            cardsContainer.addEventListener('mousemove', handleDragMove);
            cardsContainer.addEventListener('mouseup', handleDragEnd);
            cardsContainer.addEventListener('mouseleave', handleDragEnd);

            cardsContainer.addEventListener('touchstart', dismissSwipeInstruction);
            cardsContainer.addEventListener('mousedown', dismissSwipeInstruction);

            document.querySelectorAll('.content-wrapper').forEach((wrapper) => {
                wrapper.addEventListener('scroll', () => updateFadeForWrapper(wrapper));
                updateFadeForWrapper(wrapper);
            });

            window.addEventListener('resize', () => {
                const activeCard = cards[currentCardIndex];
                if (activeCard) {
                    updateFadeForWrapper(activeCard.querySelector('.content-wrapper'));
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'PageDown') {
                    nextCard();
                    e.preventDefault();
                } else if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
                    prevCard();
                    e.preventDefault();
                }
            });
            
            // Restart button
            if (restartBtn) {
                restartBtn.addEventListener('click', () => {
                    goToCard(0);
                });
            }
            
            // Share button
            if (shareBtn) {
                shareBtn.addEventListener('click', () => {
                    // In a real app, this would share the reading
                    alert('Thank you for exploring your SoulMirror reading! Share your insights with friends who might appreciate this reflective experience.');
                    
                    // Vibrate for feedback
                    if (canVibrate) {
                        navigator.vibrate(80);
                    }
                });
            }
            
            // Also allow clicking on card edges to navigate
            cardsContainer.addEventListener('click', (e) => {
                if (swipeInstruction && !swipeInstruction.classList.contains('hidden')) {
                    return;
                }

                if (e.target.closest('button')) {
                    return;
                }

                if (isDragging) return;
                if (suppressNavigation) return;
                
                const clickX = e.clientX;
                const screenWidth = window.innerWidth;
                
                // Click on right third of screen
                if (clickX > screenWidth * 0.7) {
                    nextCard();
                }
                // Click on left third of screen
                else if (clickX < screenWidth * 0.3) {
                    prevCard();
                }
            });
        }
        
        // Initialize the app when page loads
        window.addEventListener('DOMContentLoaded', initApp);
        
        // Prevent context menu on long press
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
    </script>
</body>
</html>
